<div *ngIf="isLoggedIn">
  <mat-sidenav-container class="sidenav-container">
    <!-- Sidebar -->
    <mat-sidenav
      #drawer
      class="sidenav"
      fixedInViewport
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="(isHandset$ | async) === false"
    >
      <div class="p-16">
        <div class="mb-16">
          <a href="/" class="d-flex align-items-center">
            <img src="assets/images/favicon.png" alt="" />
            <span class="ms-16 fw-medium fs-26">Fakter</span>
          </a>
        </div>

        <div class="pt-8" *ngIf="showAdminBoard">
          <ul>
            <li class="list-group mb-8">
              <a
                matRipple
                [matRippleColor]="'#f7f8f443'"
                routerLink="/admin"
                class="sidebar-menu fs-16 w-100 d-flex align-items-center"
                [routerLinkActive]="routerActive"
              >
               <mat-icon class="feather-base me-16">person</mat-icon> 
                <span class="ps-4">Espace Admin</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="pt-8">
          <ul>
            <li class="list-group mb-8" *ngFor="let sidenav of sidebarMenu">
              <a
                matRipple
                [matRippleColor]="'#f7f8f443'"
                routerLink="{{ sidenav.link }}"
                class="sidebar-menu fs-16 w-100 d-flex align-items-center"
                [routerLinkActive]="routerActive"
              >
                <mat-icon class="feather-base me-16">{{ sidenav.icon }}</mat-icon>
                <span class="ps-4">{{ sidenav.menu }}</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </mat-sidenav>

    <mat-sidenav-content>
      <!-- Header -->
      <mat-toolbar class="header ps-24 pe-24">
        <button
          type="button"
          class="ms-4"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="drawer.toggle()"
          *ngIf="isHandset$ | async"
        >
          <i-feather
            name="menu"
            class="text-light-muted feather-base mt-n3"
          ></i-feather>
        </button>

        <div class="ms-auto">
          <button
            mat-button
            class="fs-16 pt-4 pb-4 ps-8 pe-8 text-light-muted"
            [matMenuTriggerFor]="menu"
          >
          <span><mat-icon style="margin-top:10px;">person</mat-icon></span>
            <span class="fw-light ms-8 text-secondary">Bienvenue,</span>
            <span class="fw-bold ms-8">{{ username }}</span>
            <i-feather
              name="chevron-down"
              class="feather-base mt-n2"
            ></i-feather>
          </button>
          <mat-menu #menu="matMenu" class="profile-dropdown">
            <div class="p-16 mb-4">
              <button mat-menu-item class="fs-16" routerLink="/profile">
                Votre profile
              </button>
            </div>

            <hr />

            <div class="p-16">
              <button mat-button class="btn btn-info w-100" (click)="logout()">
                Déconnexion
              </button>
            </div>
          </mat-menu>
        </div>
      </mat-toolbar>

      <!-- Content -->
      <div class="body-wrapper">
        <div class="page-wrapper">
          <router-outlet></router-outlet>
        </div>
      </div>

      <p class="text-center pb-24 fs-16">
        © 2022 All rights reserved by Fakter
      </p>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<div
  style="
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  "
  *ngIf="!showAdminBoard || !isLoggedIn"
>
  <div class="card">
    <div class="card-body">
      <h4 class="mb-32">Attention !</h4>

      <div
        *ngFor="let alerts of alerts"
        class="alert {{ alerts.background }} {{
          alerts.color
        }} d-flex fs-14 align-items-center rounded mb-16"
        role="alert"
      >
        <i-feather
          name="{{ alerts.icon }}"
          class="{{ alerts.iconColor }} feather-base me-12"
        ></i-feather>
        {{ alerts.message }}
      </div>
    </div>
  </div>
</div>
