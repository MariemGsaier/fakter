<div>
  <div class="mb-20">
    <button
      mat-button
      class="btn btn-danger"
      (click)="exportHtmlToPDF()"
      fw-normal
      style="margin-right: 5px"
    >
      <mat-icon>picture_as_pdf</mat-icon> Exporter et envoyer email
    </button>
  </div>
  <div style = "margin-top : 60px"id="htmltable">
    <div class="mb-20 "><img src="assets\images\logowimbee.png" style="float: left ; margin-left: 10px; margin-top: 7px;" width="115px"  /><br></div>
    <mat-divider></mat-divider>
    <div class="mt-20"  style="margin-left: 21px" >
      <p>{{ societe.nom_societe }}</p>
      <p>{{ societe.adresse }}</p>
      <p>{{ societe.courriel }}</p>
      <p>{{ societe.numtel }}</p>


    </div>
    <div class="client-parag" ><p>{{facture.id_client}}</p><br></div>
      <p style="font-size: 20px ; margin-left: 21px"><strong>{{facture.reference}}</strong></p>
      <div style=" display: flex; justify-content: left; margin-left: 21px"><p>Date facturation :{{ facture.date_facturation }}</p></div>
      <div class="client-parag" style="margin-top: -25px ;margin-left: 21px"><p>Date d'écheance :{{ facture.date_echeance }}</p></div>
    
    <mat-card class="w-100">
      <mat-card-content>
        <div class="table-responsive">
          <table mat-table [dataSource]="dataSource" class="text-nowrap w-100">
            <!-- Nom article Column -->
            <ng-container matColumnDef="nom">
              <th mat-header-cell *matHeaderCellDef>Nom Article</th>
              <td mat-cell class="fw-medium" *matCellDef="let element">
                {{ element.nom_article }}
              </td>
            </ng-container>

            <!-- Quantité Column -->
            <ng-container matColumnDef="quantite">
              <th mat-header-cell *matHeaderCellDef>Quantité</th>
              <td mat-cell *matCellDef="let element">
                <p class="mb-0 fw-medium">{{ element.quantite }}</p>
              </td>
            </ng-container>

            <!-- Prix Column -->
            <ng-container matColumnDef="prix">
              <th mat-header-cell *matHeaderCellDef>Prix</th>
              <td mat-cell *matCellDef="let element">
                <p class="mb-0 fw-medium">{{ element.prix }}</p>
              </td>
            </ng-container>

            <!-- sous-total HT Column -->
            <ng-container matColumnDef="soustotal_ht">
              <th mat-header-cell *matHeaderCellDef>Sous-total HT</th>
              <td mat-cell *matCellDef="let element">
                <p class="mb-0 fw-medium">
                  {{ element.soustotal_ht | number: "0.0-4" }}
                </p>
              </td>
            </ng-container>

            <!-- taxe Column -->
            <ng-container matColumnDef="taxe">
              <th mat-header-cell *matHeaderCellDef>Taxe</th>
              <td mat-cell *matCellDef="let element">
                {{ element.taxe }}
              </td>
            </ng-container>
            <ng-container matColumnDef="sous_total">
              <th mat-header-cell *matHeaderCellDef>Sous-total TTC</th>
              <td mat-cell *matCellDef="let element">
                <p class="mb-0 fw-medium">
                  {{ element.sous_totalttc | number: "0.0-4" }}
                </p>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
          <div style="margin-top: -10px; margin-right: 43px">
              <p style="float: right; margin-left: 10px;margin-top: 4%;">
                <strong>Total en {{ facture.nom_devise }} :</strong>
                {{
                  facture.total_devise | number: "0.0-4"
                }}
              </p>
            <p style="float: right; margin-left: 10px;margin-top: 4%;">
              <strong>Total TTC :</strong>
              {{ facture.total_ttc | currency: "TND":"symbol":"0.0-4":"fr" }}
            </p>
            <p style="float: right;margin-top: 4%;">
              <strong>Total HT :</strong>
              {{ facture.total_ht | currency: "TND":"symbol":"0.0-4":"fr" }}
            </p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <p style="margin-left: 21px">Merci d'utiliser la communication suivante pour votre paiement <strong>{{facture.reference}} </strong>!</p>
  </div>
</div>
